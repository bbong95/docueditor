# ðŸ§ª Unit Test Plan

## 1. Objective
Ensure individual components and utility functions operate correctly in isolation, verifying logic, state updates, and rendering behavior.

## 2. Scope
- **Utils**: `pdfUtils`, `colorUtils`, `mathUtils`.
- **Services**: [OCRService](file:///c:/dev/docueditor/src/services/ocrService.ts#48-458) (mocked).
- **Store**: `useEditorStore` (state transitions).
- **Components**: [DistributedAgents](file:///c:/dev/docueditor/src/components/DistributedAgents.tsx#8-105), [SlideEditor](file:///c:/dev/docueditor/src/components/SlideEditor.tsx#25-675) (rendering only).

## 3. Test Cases

### 3.1 Utils Testing
| Module | Test Case | Input | Expected Output |
| :--- | :--- | :--- | :--- |
| `pdfUtils` | [convertPdfToImage](file:///c:/dev/docueditor/src/utils/pdfUtils.ts#6-52) | Valid PDF File | Array of Blob URLs |
| `pdfUtils` | [convertPdfToImage](file:///c:/dev/docueditor/src/utils/pdfUtils.ts#6-52) | Invalid File | Error / Empty Array |
| `colorUtils` | `hexToRgb` | `#FFFFFF` | `{r:255, g:255, b:255}` |

### 3.2 Store Testing (`useEditorStore`)
| Action | Test Scenario | Initial State | Result State |
| :--- | :--- | :--- | :--- |
| [setPages](file:///c:/dev/docueditor/src/store/useEditorStore.ts#44-45) | Add new pages | `pages: []` | `pages: ['url1', 'url2']` |
| `updateBox` | Edit text content | `box[0].text: 'A'` | `box[0].text: 'B'` |
| [setIsExporting](file:///c:/dev/docueditor/src/store/useEditorStore.ts#55-56) | Trigger export | `isExporting: false` | `isExporting: true` |

### 3.3 Component Testing (Vitest + RTL)
- **[DistributedAgents](file:///c:/dev/docueditor/src/components/DistributedAgents.tsx#8-105)**: 
  - Verify 4 anchors are rendered.
  - Verify canvas is present.
  - Check `isArchitectWorking` prop logic.
- **[SlideEditor](file:///c:/dev/docueditor/src/components/SlideEditor.tsx#25-675)**:
  - Verify `ConfigurableCanvas` renders for each page.
  - Verify text boxes appear at correct coordinates.

## 4. Tools
- **Framework**: Vitest
- **Library**: React Testing Library
- **Mocking**: `vi.fn()`, `vi.mock()` for `ocrService`.
